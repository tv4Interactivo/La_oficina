<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>La oficina</title>
    <script src="https://aframe.io/releases/0.8.2/aframe.min.js"></script>
    <!-- <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script> -->
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v4.2.0/dist/aframe-extras.min.js"></script>

    

    <!-- Fontawesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
      integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Import the webpage's stylesheet -->
    <link rel="stylesheet" href="styles.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap"
      rel="stylesheet"
    />

    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/images/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/images/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/images/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="assets/images/favicon/site.webmanifest" />
    <link
      rel="mask-icon"
      href="assets/images/favicon/safari-pinned-tab.svg"
      color="#5bbad5"
    />
    <meta name="msapplication-TileColor" content="#da532c" />
    <meta name="theme-color" content="#ffffff" />
  </head>
  <body>
      
      <div style="position: relative;">
        <a-scene
        inspector-plugin-recast 
        vr-mode-ui="enabled: false"
        light="defaultLightsEnabled: false"
        antialias="true"
      >
        <a-sky color="#95daf5"></a-sky>

        <a-entity light="type: ambient; color: #CCC; intensity:3"></a-entity>

        <a-assets>
          <a-asset-item id="oficina" src="assets/models/oficina.gltf">
          </a-asset-item>
        </a-assets>

        <a-assets>
          <a-asset-item id="navmesh" src="assets/models/oficina_navmesh.glb">
          </a-asset-item>
        </a-assets>

        <a-text
          id="text1"
          value="el lugar de Isaias"
          scale="1 1 1"
          position="-1.85 2 -0.5"
          rotation="0 10 0"
          color="#000"
          visible="false"
        >
        </a-text>

        <a-box
        id="box1"
        color="blue"
        opacity="0.5"
        scale="0.2 0.2 0.2"
        position="-1 1.8 -0.6"
        event-set__enter="_event: mouseenter; _target: #text1; visible: true"
        event-set__leave="_event: mouseleave; _target: #text1; visible: false">
        <a-animation property="rotation" to="0 360 0" dur="4000" repeat="indefinite" easing="linear"></a-animation>
        </a-box>

        <a-text
          id="text2"
          value="Mi lugar"
          scale="1 1 1"
          position="1.2 2 -0.063"
          rotation="0 -90 0"
          color="#000"
          visible="false"
        >
        </a-text>

        <a-box
        id="box2"
        color="blue"
        opacity="0.5"
        scale="0.2 0.2 0.2"
        position="1.2 1.8 0.3"
        event-set__enter="_event: mouseenter; _target: #text2; visible: true"
        event-set__leave="_event: mouseleave; _target: #text2; visible: false">
        <a-animation property="rotation" to="0 360 0" dur="4000" repeat="indefinite" easing="linear"></a-animation>
        </a-box>

        <a-entity id="rig" 
                  movement-controls="controls: checkpoint;" 
                  checkpoint-controls="mode: animate"
                  position="0 0 3"
                  rotation="0 0 0">
          <a-entity
            id="camera"
            camera
            position="0 2.1 0"
            look-controls="pointerLockEnabled: true"
          >
              <a-entity cursor
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008"
              material="color: white; shader: flat">
            </a-entity>
          </a-entity>
        </a-entity>

        <a-entity id="walkMesh" 
        class="navmesh" 
        gltf-model="#navmesh"
        position="-0.09 1 0.125"
        scale="3 3 3"
        nav-mesh visible="false"></a-entity>


        <a-entity id="model"
        gltf-model="#oficina"
        scale="3 3 3"
        position="0 1 0">
        </a-entity>

        <a-cylinder checkpoint radius="0.5" height="0.05" position="0 0 2.3" color="#39BB82"></a-cylinder>
        <a-cylinder checkpoint radius="0.5" height="0.05" position="-2 0 1.4" color="#39BB82"></a-cylinder>
        <a-cylinder checkpoint radius="0.5" height="0.05" position="-0.3 0 0.3" color="#39BB82"></a-cylinder>
      </a-scene>
      </div>
      
    
      <div class="UI" id="text-esp" style="position:absolute; top:2%; left:2%; z-index:1; display: block;">
        <h1>La oficina</h1>
        <p>Ejemplo básico de <br> fotogrametría</p>
      </div>

      <div class="UI" id="text-eng" style="position:absolute; top:2%; left:2%; z-index:1; display:none">
        <h1>The office</h1>
        <p>Basic photogrammetry <br> example</p>
      </div>

      <div class="logo" >
        <img class="logo2" src="assets/images/logo_4i_vertical.png" alt="tv4 logo">
      </div>

      <div class="menu" style="position:absolute; top:2%; right:2%; z-index:1;">
        <div class="dropdown">
          <button onclick="toggleDisplay()" id="dropbtn" class="dropbtn">
            <i class="fa-solid fa-bars"></i>
          </button>
          <div
            id="dropdown-content"
            class="dropdown-content animate__animated animate__fadeIn"
            style="display: none"
          >
          <a href="https://tv4interactivo.github.io/4interactivo/">
            <button>
              <i class="home fa-solid fa-house"></i>
            </button>
          </a>
            <button onclick="copyURL();" href="#">
              <i class="share fa-solid fa-share-nodes"></i>
            </button>
            <button onclick="changeLang();" href="#">
              <i class="lang fa-solid fa-language"></i>
            </button>
          </div>
        </div>
      </div>
    

      <!-- Import the webpage's javascript file -->
        <script src="script.js"></script>
        <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  </body>
</html>
